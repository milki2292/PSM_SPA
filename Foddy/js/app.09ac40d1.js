(function(t){function e(e){for(var a,r,s=e[0],d=e[1],c=e[2],l=0,h=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&h.push(i[r][0]),i[r]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(t[a]=d[a]);u&&u(e);while(h.length)h.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var d=n[s];0!==i[d]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},o=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=d;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),i=n.n(a);i.a},"12a1":function(t,e,n){},"1d2d":function(t,e,n){},"30e4":function(t,e,n){"use strict";var a=n("3237"),i=n.n(a);i.a},3237:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var a={};n.r(a);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"containterBox"}},[n("div",{attrs:{id:"backgd"}}),n("div",{attrs:{id:"app"}},[n("Header"),n("router-view")],1)])},r=[],s=(n("ac1f"),n("841c"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"strip"}},[n("div",{attrs:{id:"foddy"},on:{click:t.goHome}},[n("font-awesome-icon",{attrs:{icon:"hamburger"}}),t._v("Foddy")],1),n("button",{staticClass:"btn btn-search",attrs:{id:"logout",hidden:""},on:{click:t.logout}},[t._v(" Wyloguj "),n("font-awesome-icon",{attrs:{icon:"sign-out-alt"}})],1),n("button",{staticClass:"btn btn-search",attrs:{id:"login",hidden:""},on:{click:t.goLogin}},[t._v("Zaloguj")]),n("p",{attrs:{id:"offline",hidden:""}},[t._v("Jesteś Offline")])])}),d=[],c=n("59ca"),u=(n("ea7b"),{name:"Header",methods:{goHome:function(){var t="/";this.$route.path!==t&&this.$router.push(t)},logout:function(){var t=this;c["auth"]().signOut().then((function(){t.goHome()}))},goLogin:function(){var t="/Login";this.$route.path!==t&&this.$router.push("/Login")}},mounted:function(){window.setInterval((function(){navigator.onLine?document.getElementById("offline").hidden=!0:document.getElementById("offline").hidden=!1}),1)}}),l=u,h=(n("a740"),n("2877")),m=Object(h["a"])(l,s,d,!1,null,null,null),g=m.exports,p=(n("e71f"),n("588e"),{apiKey:"AIzaSyBYad-jIHhVbYIp-hHvUhL2x41MCjpaLDE",authDomain:"psm-spa.firebaseapp.com",databaseURL:"https://psm-spa.firebaseio.com",projectId:"psm-spa",storageBucket:"psm-spa.appspot.com",messagingSenderId:"341296659662",appId:"1:341296659662:web:e47498160b6fe64db8a49f",measurementId:"G-P8QL6MBDL6"});c["initializeApp"](p);var v=n("a916"),f=n.n(v),b={name:"app",data:function(){return{fb:a}},components:{Header:g},mounted:function(){var t="eF1AAMnmvBTawGgzhgmJL4ybyAtYRQxZ4j2gbevEm4c",e=new f.a({accessKey:t});e.search.photos("food",30,50,{orientation:"portrait"}).then(v["toJson"]).then((function(t){var e=t.results;document.getElementById("backgd").style.backgroundImage="url(".concat(e[Math.floor(Math.random()*e.length)].urls.regular,")"),c["auth"]().onAuthStateChanged((function(t){t?(document.getElementById("login").hidden=!0,document.getElementById("logout").hidden=!1,document.getElementById("profile").hidden=!1,document.getElementById("favourite").hidden=!1):(document.getElementById("login").hidden=!1,document.getElementById("logout").hidden=!0,document.getElementById("profile").hidden=!0,document.getElementById("favourite").hidden=!0)}))}))}},y=b,_=(n("034f"),Object(h["a"])(y,o,r,!1,null,null,null)),E=_.exports,w=n("8c4f"),I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("div",{attrs:{id:"likeContainer",hidden:""}},[n("button",{staticClass:"like-btn btn",attrs:{id:"giveLike"},on:{click:function(e){return t.like()}}},[n("font-awesome-icon",{attrs:{id:"thumbsUp",icon:["far","thumbs-up"]}}),t._v("Like")],1),n("p",{attrs:{id:"likeCounter"}},[t._v(t._s(t.likes)+" "),n("font-awesome-icon",{attrs:{id:"thumbsUp",icon:"thumbs-up"}})],1)]),n("div",{staticClass:"container"},[n("div",{attrs:{id:"motto"}},[t._v(" Jedz gdzie chcesz! ")]),n("div",{attrs:{id:"profile",hidden:""}},[n("a",{staticStyle:{"text-decoration":"none"},on:{click:t.goUser}},[n("img",{staticStyle:{"border-radius":"50%","object-fit":"cover",height:"120px",width:"120px"},attrs:{id:"avatarURL",src:"https://img.pngio.com/parent-directory-avatar-2png-avatar-png-256_256.png"}})]),n("div",{staticStyle:{"font-weight":"600"},attrs:{id:"accountName"}},[t._v(" profil ")])]),n("div",{attrs:{id:"c"}}),n("br"),n("div",{attrs:{id:"searchframe"}},[n("div",{attrs:{id:"search"}},[n("div",{attrs:{id:"local"}},[n("font-awesome-icon",{attrs:{icon:"search"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.location,expression:"location"}],staticStyle:{border:"none",width:"90%",height:"100%"},attrs:{type:"text",placeholder:" Lokalizacja"},domProps:{value:t.location},on:{input:function(e){e.target.composing||(t.location=e.target.value)}}})],1),n("div",{attrs:{id:"zakres"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],attrs:{id:"price"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.price=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("Zakres Cenowy...")]),n("option",{attrs:{value:"1"}},[t._v("Tanie")]),n("option",{attrs:{value:"2"}},[t._v("Średnie")]),n("option",{attrs:{value:"3"}},[t._v("Drogie")]),n("option",{attrs:{value:"4"}},[t._v("Bardzo drogie")])])]),n("div",{attrs:{id:"sort"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.sortBy,expression:"sortBy"}],attrs:{id:"sortBy"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sortBy=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("Sortuj po...")]),n("option",{attrs:{value:"best_match"}},[t._v("Najlepszy traf")]),n("option",{attrs:{value:"rating"}},[t._v("Oceny")]),n("option",{attrs:{value:"review_count"}},[t._v("Liczbie recenzji")])])]),n("div",{staticClass:"c"})])]),n("br"),n("button",{staticClass:"btn btn-search btn-lg",on:{click:function(e){return t.searchByLocation()}}},[t._v(" Szukaj "),n("font-awesome-icon",{attrs:{icon:"search"}})],1),n("br"),n("br"),n("div",{staticClass:"loader",attrs:{hidden:"",id:"loader"}}),t._l(t.results.businesses,(function(e){return n("div",{key:e.id,staticClass:"restaurants",on:{click:function(n){return t.goRestaurant(e.id)}}},[n("div",{staticClass:"res-name"},[t._v(t._s(e.name)),n("br"),t._v(" "+t._s(e.location.city)+", "+t._s(e.location.address1)+" ")]),n("div",{staticClass:"res-title"},[t._v(t._s(e.categories[0].title))]),n("div",{staticClass:"res-img"},[n("img",{attrs:{src:e.image_url,width:"100%",height:"100%"}})]),n("div",{staticClass:"c"})])}))],2)])])},B=[],k=(n("99af"),n("4160"),n("d3b7"),n("159b"),{name:"Home",data:function(){return{db:c["firestore"](),likes:0,results:[],location:"",price:"",sortBy:"",API_key:"Bearer fkbp8a45dtXLiROWZHIh6ruBZVTOtm_oNzqlj2NzfDskFb5HMCFjRBEJgkIgJkv-Q0H7IFkT3LWgzDWoNbjsHnZ5WVECz-Fr5lYhR_hYtE_PAPrrwBNeLgtn-MOmXnYx"}},created:function(){this.$root.$data.results&&(this.results=this.$root.$data.results),c["auth"]().onAuthStateChanged((function(t){if(t){document.getElementById("accountName").innerHTML=t.email;var e=c["storage"]().ref(t.uid+"/avatar/my_avatar");e.getDownloadURL().then((function(t){document.getElementById("avatarURL").setAttribute("src",t)}))}}));var t=this;c["auth"]().onAuthStateChanged((function(e){e?(t.checkIfIGiveLike(),document.getElementById("login").hidden=!0,document.getElementById("profile").hidden=!1,document.getElementById("logout").hidden=!1,document.getElementById("likeContainer").hidden=!1):(document.getElementById("login").hidden=!1,document.getElementById("profile").hidden=!0,document.getElementById("logout").hidden=!0,document.getElementById("likeContainer").hidden=!0)}))},mounted:function(){var t=this;window.setInterval((function(){t.displayLikes()}),1)},methods:{goLogin:function(){this.$router.push("/Login")},goRegistration:function(){this.$router.push("/Registration")},goRestaurant:function(t){this.$router.push({path:"/Restaurant/".concat(t)})},goUser:function(){this.$router.push("/User")},searchByLocation:function(){var t=document.getElementById("loader");t.hidden=!1;var e="https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=restaurants&location=".concat(this.location),n={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:this.API_key}};this.price&&this.sortBy?e="".concat(e,"&price=").concat(this.price,"&sort_by=").concat(this.sortBy):this.price?e="".concat(e,"&price=").concat(this.price):this.sortBy&&"".concat(e,"&sort_by=").concat(this.sortBy);var a=this;fetch(e,{headers:n.headers}).then((function(t){return t.json()})).then((function(t){return a.results=t})).then((function(){return t.hidden=!0})).then((function(){return a.$root.$data.results=a.results}))},displayLikes:function(){var t=this;this.db.collection("likes").get().then((function(e){var n=0;e.forEach((function(){n+=1})),t.likes=n}))},like:function(){document.getElementById("giveLike").disabled=!0;var t=this;c["auth"]().onAuthStateChanged((function(e){t.db.collection("likes").doc(e.uid).set({like:!0})}))},checkIfIGiveLike:function(){var t=this;c["auth"]().onAuthStateChanged((function(e){t.db.collection("likes").doc(e.uid).get().then((function(t){t.exists&&(document.getElementById("giveLike").disabled=!0,document.getElementById("giveLike").innerHTML="Liked!")}))}))}}}),P=k,C=(n("cccb"),Object(h["a"])(P,I,B,!1,null,null,null)),x=C.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{attrs:{id:"a"}},[n("div",{staticClass:"loginAvatar"},[n("font-awesome-icon",{attrs:{icon:"hamburger"}}),t._v("Logowanie")],1),n("h4"),n("h4",{staticStyle:{color:"red","margin-top":"100px"},attrs:{id:"invalidLoginPrompt",hidden:""}},[t._v("Błędny Login i/lub Hasło...")]),n("input",{attrs:{type:"textfield",id:"email",placeholder:"Email"}}),n("h4"),n("input",{attrs:{type:"password",id:"password",placeholder:"Hasło"}}),n("br"),n("br"),n("button",{staticClass:"btn btn-login btn-lg ",attrs:{id:"loginbutton"},on:{click:t.login}},[t._v("Zaloguj")])]),n("div",{attrs:{id:"v1"}}),n("div",{attrs:{id:"v2"}}),n("div",{attrs:{id:"b"}},[n("br"),n("br"),n("button",{staticClass:"btn btn-git btn-lg ",attrs:{id:"button1"},on:{click:t.loginGithub}},[t._v("Zaloguj z Github "),n("font-awesome-icon",{attrs:{icon:["fab","github"]}})],1),n("br"),n("br"),n("button",{staticClass:"btn btn-google btn-lg ",attrs:{id:"button2"},on:{click:t.loginGoogle}},[t._v("Zaloguj z Google "),n("font-awesome-icon",{attrs:{icon:["fab","google"]}})],1),n("br"),n("br"),n("div",{attrs:{id:"text1"}},[t._v("Nie masz konta?")]),n("a",{staticStyle:{"text-decoration":"none"},on:{click:t.goRegistration}},[n("button",{staticClass:"btn btn-login btn-lg "},[t._v("Zarejestruj")])])]),n("div",{attrs:{id:"c"}})])},S=[],L={name:"Login",mounted:function(){var t=this.$router;c["auth"]().onAuthStateChanged((function(e){e&&t.push("/")}))},methods:{goRegistration:function(){var t=this.$router;t.push("/Registration")},login:function(){var t=document.getElementById("email").value,e=document.getElementById("password").value;c["auth"]().signInWithEmailAndPassword(t,e).catch((function(){document.getElementById("invalidLoginPrompt").hidden=!1,document.getElementById("email").style.marginTop="10px"}))},loginGithub:function(){var t=new c["auth"].GithubAuthProvider;this.externalSighnIn(t)},loginGoogle:function(){var t=new c["auth"].GoogleAuthProvider;this.externalSighnIn(t)},externalSighnIn:function(t){c["auth"]().signInWithRedirect(t),c["auth"]().getRedirectResult()}}},A=L,R=(n("c623"),Object(h["a"])(A,j,S,!1,null,"05464824",null)),z=R.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{attrs:{id:"a"}},[n("div",{staticClass:"registerAvatar"},[n("font-awesome-icon",{attrs:{icon:"hamburger"}}),t._v("Rejestracja")],1),n("h4",{staticStyle:{color:"red","margin-top":"100px"},attrs:{id:"differentPasswords",hidden:""}},[t._v("Podane hasła są różne!")]),n("h4",{staticStyle:{color:"red","margin-top":"100px"},attrs:{id:"invalidEmailFormat",hidden:""}},[t._v("Błędny format adresu e-mail!")]),n("h4",{staticStyle:{color:"red","margin-top":"100px"},attrs:{id:"passwordTooWeak",hidden:""}},[t._v("Hasło musi składać się przynajmniej z 6 znaków!")]),n("h4",{staticStyle:{color:"red","margin-top":"100px"},attrs:{id:"emailAlreadyInUse",hidden:""}},[t._v("Adres e-mail jest już używany!")]),n("input",{attrs:{type:"textfield",id:"email",placeholder:"Email"}}),n("input",{attrs:{type:"password",id:"password",placeholder:"Hasło"}}),n("input",{attrs:{type:"password",id:"password2",placeholder:"Powtórz hasło"}}),n("br"),n("br"),n("button",{staticClass:"btn btn-login btn-lg",attrs:{id:"savebutton"},on:{click:t.register}},[t._v(" Zarejestruj ")])]),n("div",{attrs:{id:"v1"}}),n("div",{attrs:{id:"b"}},[n("br"),n("br"),n("button",{staticClass:"btn btn-git btn-lg ",attrs:{id:"button1"},on:{click:t.loginGithub}},[t._v(" Zarejestruj z Github "),n("font-awesome-icon",{attrs:{icon:["fab","github"]}})],1),n("br"),n("br"),n("button",{staticClass:"btn btn-google btn-lg ",attrs:{id:"button2"},on:{click:t.loginGoogle}},[t._v(" Zarejestruj z Google "),n("font-awesome-icon",{attrs:{icon:["fab","google"]}})],1)]),n("div",{attrs:{id:"c"}})])},U=[],H={name:"Registration",mounted:function(){var t=this.$router;c["auth"]().onAuthStateChanged((function(e){e&&t.push("/")}))},methods:{register:function(){var t=document.getElementById("email").value,e=document.getElementById("password").value,n=document.getElementById("password2").value;e!=n?(document.getElementById("emailAlreadyInUse").hidden=!0,document.getElementById("invalidEmailFormat").hidden=!0,document.getElementById("passwordTooWeak").hidden=!0,document.getElementById("differentPasswords").hidden=!1,document.getElementById("email").style.marginTop="10px"):c["auth"]().createUserWithEmailAndPassword(t,e).catch((function(t){"auth/weak-password"==t.code&&(document.getElementById("emailAlreadyInUse").hidden=!0,document.getElementById("invalidEmailFormat").hidden=!0,document.getElementById("differentPasswords").hidden=!0,document.getElementById("passwordTooWeak").hidden=!1,document.getElementById("email").style.marginTop="10px"),"auth/invalid-email"==t.code&&(document.getElementById("emailAlreadyInUse").hidden=!0,document.getElementById("passwordTooWeak").hidden=!0,document.getElementById("differentPasswords").hidden=!0,document.getElementById("invalidEmailFormat").hidden=!1,document.getElementById("email").style.marginTop="10px"),"auth/email-already-in-use"==t.code&&(document.getElementById("passwordTooWeak").hidden=!0,document.getElementById("differentPasswords").hidden=!0,document.getElementById("invalidEmailFormat").hidden=!0,document.getElementById("emailAlreadyInUse").hidden=!1)}))},loginGithub:function(){var t=new c["auth"].GithubAuthProvider;this.externalSighnIn(t)},loginGoogle:function(){var t=new c["auth"].GoogleAuthProvider;this.externalSighnIn(t)},externalSighnIn:function(t){c["auth"]().signInWithRedirect(t),c["auth"]().getRedirectResult()}}},$=H,T=(n("97bf"),Object(h["a"])($,O,U,!1,null,"26d13df9",null)),Z=T.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("h1",[t._v("Profil")]),n("img",{staticStyle:{"border-radius":"50%","object-fit":"cover",height:"200px",width:"200px"},attrs:{id:"avatarURL",src:"https://img.pngio.com/parent-directory-avatar-2png-avatar-png-256_256.png"}}),n("div",{staticStyle:{"font-weight":"600"},attrs:{id:"accountName"}},[t._v(" profil ")]),n("div",[n("br"),n("button",{staticClass:"btn btn-login btn-lg",on:{click:t.goManagement}},[t._v("Zarządzaj Kontem")])]),n("br"),n("p",{staticStyle:{"font-size":"30px","font-weight":"700"}},[t._v("Ulubione:")]),t._l(this.restaurants,(function(e){return n("div",{key:e.id,staticClass:"restaurants",on:{click:function(n){return t.goRestaurant(e.id)}}},[n("div",{staticClass:"res-name"},[t._v(t._s(e.name)),n("br"),t._v(" "+t._s(e.location.city)+", "+t._s(e.location.address1)+" ")]),n("div",{staticClass:"res-title"},[t._v(t._s(e.categories[0].title))]),n("div",{staticClass:"res-img"},[n("img",{attrs:{src:e.image_url,width:"100%",height:"100%"}})]),n("div",{staticClass:"c"})])}))],2)},N=[],W={name:"Users",data:function(){return{db:c["firestore"](),restaurants:[]}},created:function(){var t=this.restaurants,e=this.db.collection("favourites");c["auth"]().onAuthStateChanged((function(n){document.getElementById("accountName").innerHTML=n.email;var a=c["storage"]().ref(n.uid+"/avatar/my_avatar");a.getDownloadURL().then((function(t){document.getElementById("avatarURL").setAttribute("src",t)})),e.doc(n.uid).get().then((function(e){e.exists&&e.data().restaurants.forEach((function(e){t.push(e)}))}))}))},methods:{goManagement:function(){this.$router.push("/UserManagement")},goRestaurant:function(t){this.$router.push({path:"/Restaurant/".concat(t)})}}},G=W,D=(n("cdaf"),Object(h["a"])(G,M,N,!1,null,"6ada9766",null)),F=D.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",[n("img",{attrs:{id:"topPhoto",src:t.restaurant.image_url}})]),n("br"),n("div",{attrs:{id:"restaurantName"}},[t._v(" "+t._s(this.restaurant.name)+" ")]),n("div",{staticClass:"restaurantCategory"},[t._v(" "+t._s(this.restaurant.categories[0].title)+" ")]),n("div",{attrs:{id:"restaurantLocation"}},[t._v(" "+t._s(this.restaurant.location.city)+", "+t._s(t.restaurant.location.address1)+" ")]),n("br"),n("div",{staticStyle:{width:"70%",margin:"0 auto","font-size":"20px"}},[n("div",{staticClass:"restaurantInfo"},[t._v(" Ocena: "+t._s(this.restaurant.rating)+"/5 ")]),n("div",{staticClass:"restaurantInfo",staticStyle:{"border-left":"none"}},[t._v(" Ceny :"+t._s(this.restaurant.price))]),n("div",{staticClass:"restaurantInfo",staticStyle:{"border-left":"none"}},[t._v(t._s(this.restaurant.review_count)+" Opinie/i")]),n("div",{staticStyle:{clear:"both"}})]),n("div",{staticClass:"restaurantCategory"},[n("p",[n("button",{staticClass:"btn btn-login btn-lg",attrs:{id:"favourite"},on:{click:function(e){return t.addToFavourites()}}},[t._v(" Dodaj do ulubionych ")])]),n("br"),t._v(" Galeria ")]),n("div",{staticStyle:{"margin-top":"20px"}},[n("img",{attrs:{src:t.restaurant.photos[1],width:"60%",height:"60%"}})]),n("br"),n("div",[n("img",{attrs:{src:t.restaurant.photos[2],width:"60%",height:"60%"}})]),n("br")])},Y=[],V={name:"Restaurant",data:function(){return{db:c["firestore"](),resID:this.$route.params.restaurantID,restaurant:null,API_key:"Bearer fkbp8a45dtXLiROWZHIh6ruBZVTOtm_oNzqlj2NzfDskFb5HMCFjRBEJgkIgJkv-Q0H7IFkT3LWgzDWoNbjsHnZ5WVECz-Fr5lYhR_hYtE_PAPrrwBNeLgtn-MOmXnYx"}},mounted:function(){this.getRestaurant()},methods:{getRestaurant:function(){var t=this,e={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:this.API_key}};fetch("https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/".concat(this.resID),{headers:e.headers}).then((function(t){return t.json()})).then((function(e){return t.restaurant=e}))},addToFavourites:function(){var t=c["auth"]().currentUser,e=this.restaurant;try{var n=this.db.collection("favourites").doc(t.uid)}catch(a){alert("Zaloguj się, aby dodać do ulubionych")}t&&n.get().then((function(t){t.exists?n.update({restaurants:c["firestore"].FieldValue.arrayUnion(e)}).then((function(){alert("Dodano do ulubionych")})):n.set({restaurants:[e]}).then((function(){alert("Dodano do ulubionych")}))}))}}},Q=V,X=(n("30e4"),Object(h["a"])(Q,J,Y,!1,null,null,null)),K=X.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("img",{staticStyle:{"border-radius":"50%","object-fit":"cover",height:"200px",width:"200px"},attrs:{id:"avatarURL",src:"https://img.pngio.com/parent-directory-avatar-2png-avatar-png-256_256.png",width:"200",height:"200"}}),n("div",{staticStyle:{"font-weight":"600"},attrs:{id:"accountName"}},[t._v(" profil ")]),n("h4",[t._v("Zmień Awatar")]),t._m(0),n("br"),n("h4",{staticStyle:{color:"red","margin-top":"10px","margin-bottom":"20px"},attrs:{id:"reenterOldPassword",hidden:""}},[t._v("Ponownie wpisz dotychczasowe hasło.")]),n("h4",[t._v("Zmień adres e-mail")]),n("div",[n("input",{staticStyle:{"font-size":"25px",width:"300px"},attrs:{type:"textfield",id:"newEmail",placeholder:"Nowy adres e-mail"}}),n("br"),n("br"),n("button",{staticClass:"btn btn-login btn-lg btn-block",staticStyle:{margin:"auto"},attrs:{id:"emailBtn"},on:{click:t.changeEmail}},[t._v(" Zmień ")]),n("br")]),n("div",[n("h4",[t._v("Zmień Hasło")]),n("input",{staticStyle:{"font-size":"25px",width:"300px"},attrs:{type:"textfield",id:"newPass",placeholder:"Nowe Hasło"}}),n("br"),n("br"),n("button",{staticClass:"btn btn-login btn-lg btn-block",staticStyle:{margin:"auto"},attrs:{id:"passBtn"},on:{click:t.changePassword}},[t._v(" Zmień ")])]),n("br"),n("br"),n("br"),n("input",{staticStyle:{"font-size":"25px",width:"300px","margin-top":"30px"},attrs:{type:"textfield",id:"confirmPassEmail",placeholder:"Wpisz obecne Hasło",hidden:""}}),n("br"),n("br"),n("button",{staticClass:"btn btn-login btn-lg btn-block",staticStyle:{margin:"auto"},attrs:{id:"confirmPassEmailBtn",hidden:""},on:{click:t.changeEmailReauthenticate}},[t._v(" Zatwierdź ")]),n("input",{staticStyle:{"font-size":"25px",width:"300px"},attrs:{type:"textfield",id:"confirmPassPass",placeholder:"Wpisz obecne Hasło",hidden:""}}),n("br"),n("br"),n("button",{staticClass:"btn btn-login btn-lg btn-block",staticStyle:{margin:"auto"},attrs:{id:"confirmPassPassBtn",hidden:""},on:{click:t.changePasswordReauthenticate}},[t._v(" Zatwierdź ")])])},tt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("input",{attrs:{type:"file",id:"avatar",name:"avatar",accept:"image/png, image/jpeg"}})])}],et={name:"UserManagement",created:function(){c["auth"]().onAuthStateChanged((function(t){document.getElementById("accountName").innerHTML=t.email;var e=c["storage"]().ref(t.uid+"/avatar/my_avatar");e.getDownloadURL().then((function(t){document.getElementById("avatarURL").setAttribute("src",t)}))}))},mounted:function(){var t=document.getElementById("avatar");t.addEventListener("change",(function(t){var e=t.target.files[0];c["auth"]().onAuthStateChanged((function(t){var n=c["storage"]().ref(t.uid+"/avatar/my_avatar");n.put(e).then((function(){n.getDownloadURL().then((function(t){document.getElementById("avatarURL").setAttribute("src",t)}))}))}))}))},methods:{changeEmail:function(){var t=document.getElementById("newEmail").value;c["auth"]().onAuthStateChanged((function(e){e.updateEmail(t).then((function(){alert("Email changed")})).catch((function(){document.getElementById("confirmPassEmail").hidden=!1,document.getElementById("confirmPassEmailBtn").hidden=!1,document.getElementById("reenterOldPassword").hidden=!1}))}))},changeEmailReauthenticate:function(){c["auth"]().onAuthStateChanged((function(t){var e=document.getElementById("confirmPassEmail").value,n=c["auth"].EmailAuthProvider.credential(t.email,e);t.reauthenticateWithCredential(n).then((function(){var e=document.getElementById("newEmail").value;t.updateEmail(e).then((function(){document.getElementById("confirmPassEmail").hidden=!0,document.getElementById("confirmPassEmailBtn").hidden=!0,document.getElementById("reenterOldPassword").hidden=!0,alert("Email changed")}))}))}))},changePassword:function(){var t=document.getElementById("newPass").value;c["auth"]().onAuthStateChanged((function(e){e.updatePassword(t).then((function(){alert("Password changed")})).catch((function(){document.getElementById("confirmPassPass").hidden=!1,document.getElementById("confirmPassPassBtn").hidden=!1,document.getElementById("reenterOldPassword").hidden=!1}))}))},changePasswordReauthenticate:function(){c["auth"]().onAuthStateChanged((function(t){var e=document.getElementById("confirmPassPass").value,n=c["auth"].EmailAuthProvider.credential(t.email,e);t.reauthenticateWithCredential(n).then((function(){var e=document.getElementById("newPass").value;t.updatePassword(e).then((function(){document.getElementById("confirmPassPass").hidden=!0,document.getElementById("confirmPassPassBtn").hidden=!0,document.getElementById("reenterOldPassword").hidden=!0,alert("Password changed")}))}))}))}}},nt=et,at=(n("9214"),Object(h["a"])(nt,q,tt,!1,null,"296f189a",null)),it=at.exports;i["a"].use(w["a"]);var ot=[{path:"/",name:"Home",component:x},{path:"/login",name:"Login",component:z},{path:"/registration",name:"Registation",component:Z},{path:"/user",name:"User",component:F},{path:"/restaurant/:restaurantID",name:"Restaurant",component:K},{path:"/userManagement",name:"UserManagement",component:it}],rt=new w["a"]({routes:ot}),st=rt,dt=n("ecee"),ct=n("c074"),ut=n("f2d1"),lt=n("b702"),ht=n("ad3d");dt["c"].add(ct["a"],ct["b"],ct["c"],ut["a"],ut["b"],ut["d"],ut["c"],ct["d"],lt["a"]),i["a"].component("font-awesome-icon",ht["a"]),i["a"].config.productionTip=!1,new i["a"]({router:st,render:function(t){return t(E)}}).$mount("#app")},"5ced":function(t,e,n){},"85ec":function(t,e,n){},9214:function(t,e,n){"use strict";var a=n("12a1"),i=n.n(a);i.a},"97bf":function(t,e,n){"use strict";var a=n("98e4"),i=n.n(a);i.a},"98e4":function(t,e,n){},a740:function(t,e,n){"use strict";var a=n("c895"),i=n.n(a);i.a},c240:function(t,e,n){},c623:function(t,e,n){"use strict";var a=n("1d2d"),i=n.n(a);i.a},c895:function(t,e,n){},cccb:function(t,e,n){"use strict";var a=n("5ced"),i=n.n(a);i.a},cdaf:function(t,e,n){"use strict";var a=n("c240"),i=n.n(a);i.a}});
//# sourceMappingURL=app.09ac40d1.js.map